var StorageManager=function(e,t){var s=this;s.storageKey=e,-1!=navigator.userAgent.toLowerCase().indexOf("chrom")?s.isSafari=!1:-1!=navigator.userAgent.toLowerCase().indexOf("safari")&&(s.isSafari=!0),s.isSafari?(safari.self.tab.dispatchMessage(s.storageKey,{type:"getItem"}),safari.self.addEventListener("message",function(e){e.name===s.storageKey&&(null!==e.message?s.storeValues=e.message:s.storeValues={},t())},!1)):browserServices.getStorage(s.storageKey,function(e){e[s.storageKey]?s.storeValues=e[s.storageKey]:s.storeValues={},t()})};StorageManager.prototype.store=function(){if(this.isSafari)safari.self.tab.dispatchMessage(this.storageKey,{type:"setItem",item:this.storeValues});else{var e={};e[this.storageKey]=this.storeValues,browserServices.setStorage(e)}},StorageManager.prototype.set=function(e,t){this.storeValues[e]=t},StorageManager.prototype.get=function(e){return this.storeValues[e]},StorageManager.prototype.has=function(e){return e in this.storeValues};