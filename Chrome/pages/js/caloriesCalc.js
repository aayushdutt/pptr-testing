$.fn.serializeObject=function(){var e={},i=this.serializeArray();return $.each(i,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e};var caloriesForm={submit:function(e){var i=$("#caloriesForm").serializeObject(),t=+i.unitVal;if("metric"==i.unitSystem&&(i.speed*=.621371,i.weight*=2.20462,"distance"==i.unit&&(i.unitVal*=.621371,t=i.unitVal/i.speed)),i.speed<=0||i.weight<=0||t<=0)return void alert("Invalid Data! Negative and Zero value not possible.");var a;if("cycling"==i.mode){if(i.speed<5.5)return void alert("Speed for cycling should be greater than 5.5mph or 8.9kph!");a=(i.weight-130)/75*(34*i.speed-135)+(59*i.speed-236)}else a=(i.weight-130)/75*(54.45*i.speed+13.65)+(94.3*i.speed+24.6);var n=a*t;$("#outputCalories").html("Congratulations! You have burnt <b>"+Math.round(n)+" Calories</b>.<br> Moreover, a sedentary women require 1,600 to 2,000 calories a day, while sedentary men need about 2,000 to 2,600 calories daily to maintain their current weight.")},init:function(){browserServices.getStorage("calculationObject",function(e){var i=e.calculationObject.unitSystem||"metric";$('input:radio[name="unitSystem"]').filter("[value="+i+"]").click(),$('#caloriesForm input[value="time"]').click()}),$('input:radio[name="unitSystem"]').change(function(){var e=$(this).val();$('input:radio[name="unitSystem"]').filter("[value="+e+"]").click(),$('input:radio[name="unit"]').filter('[value="distance"]').prop("checked",!0),$("#unitSel").val(e).prop("disabled",!0),$(".form-unit").val(e)}),$('#caloriesForm input:radio[name="unit"]').change(function(){"distance"==$(this).val()?($(".timeOpt").hide(),$(".distanceOpt").show(),$("#unitSel").val($('input:radio[name="unitSystem"]').val()).prop("disabled",!0)):($(".timeOpt").show(),$(".distanceOpt").hide(),$("#unitSel").val("hour").prop("disabled",!1))}),$(".close-modal").click(function(){$(".outputDiv").html("")});var e=this;$("#caloriesFormSubmit").on("click",function(){e.submit(e)})}};caloriesForm.init();