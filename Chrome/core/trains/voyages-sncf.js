function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var sncfManager=function(){function e(t,r){_classCallCheck(this,e),this.footprintCore=t,this.settingsProvider=r,this.subtree=!0,this.dataSource="sncf",this.stations={arrive:"",depart:""},this.validator=new TrainsValidator("voyages-sncf"),this.footprintCore.storeDataSource(this.dataSource)}return _createClass(e,[{key:"getList",value:function(){for(var e=document.getElementsByClassName("proposal-info"),t=[],r=0,i=e.length;r<i;r++){var a=this.validator.getChildNode([2,1,5,0,0],e[r]),n=(a.childNodes.length-1)/2;t.push({depart:this.validator.getChildNode([0,1,0],e[r]).innerHTML,arrive:this.validator.getChildNode([1,1,0],e[r]).innerHTML}),t[t.length-1].mode=[];for(var s=1,o=n;s<=o;s++)t[t.length-1].mode.push(this.validator.getChildNode([2*s-1],a).innerText.toLowerCase());if(this.validator.verifyList(t),0===distanceBetween){var l=[t[0].depart,t[0].arrive];this.footprintCore.geocode(l)}}return t}},{key:"insertInDom",value:function(e){for(var t=this.validator.getByClass("proposal-info"),r=0,i=t.length;r<i;r++)0===t[r].getElementsByClassName("carbon").length&&this.validator.getByClass("row",t[r])[0].appendChild(e[r])}},{key:"checkChangeInStations",value:function(){currentArrive=this.validator.getById("panel-origin-city-input").value,currentDepart=this.validator.getById("panel-destination-city-input").value,this.stations.arrive==currentArrive&&this.stations.depart==currentDepart||(this.stations.arrive=currentArrive,this.stations.depart=currentDepart,this.distance=0)}},{key:"update",value:function(){this.checkChangeInStations();var e=this.getList();if(distanceBetween>1){for(var t=[],r=0,i=e.length;r<i;r++)t.push(this.footprintCore.getEmission(e[r].mode));this.insertInDom(t)}}}]),e}(),WebsiteManager=sncfManager;