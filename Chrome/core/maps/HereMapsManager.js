function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var HereMapsManager=function(){function e(t,r){_classCallCheck(this,e),this.footprintCore=t,this.settingsProvider=r,this.subtree=!0,this.validator=new MapsValidator("here")}return _createClass(e,[{key:"getMode",value:function(e){if(!e.classList[1])return"pt";var t=e.classList[1].match(/route_card_(.*)/);return t?t[1]:void 0}},{key:"getAllDrivingRoutes",value:function(){for(var e=[],t=document.getElementsByClassName("route_card"),r=0;r<t.length;r++)"car"==this.getMode(t[r])&&e.push(t[r]);return e}},{key:"getAllTransitRoutes",value:function(){for(var e=[],t=document.getElementsByClassName("route_card"),r=t.length-1;r>=0;r--)"pt"==this.getMode(t[r])&&e.push(t[r]);return e}},{key:"getDistanceString",value:function(e){var t=this.validator.getByClass("distance",e)[0].innerHTML;return this.validator.isString(t),t}},{key:"getTimeString",value:function(e){var t=this.validator.getByClass("duration",e)[0].textContent;return this.validator.isString(t),t=t.trim()}},{key:"convertDistance",value:function(e){if(e){var t=e.replace("&nbsp;"," ").split(/ /),r=t[0],n=t[1];return this.footprintCore.getDistanceFromStrings(r,n)}}},{key:"convertTime",value:function(e){if(e){var t=/(\w*) d/.exec(e),r=/(\w*) h/.exec(e),n=/(\w*) m/.exec(e);return r=r?parseFloat(r[1]):0,n&&(n=parseFloat(n[1]),r+=n/60),t&&(t=parseFloat(t[1]),r+=24*t),r}}},{key:"insertFootprintElement",value:function(e,t){0===e.getElementsByClassName("carbon").length&&(t.setAttribute("style","font-size:14px; padding-bottom: 0;"),this.validator.getByClass("route_card_right",e)[0].appendChild(t))}},{key:"insertTravelCostElement",value:function(e,t){0===e.getElementsByClassName("travelCost").length&&this.validator.getByClass("route_card_right")[0].appendChild(t)}},{key:"update",value:function(){var e,t=this,r=t.getAllDrivingRoutes();for(e=0;e<r.length;e++){var n=t.getDistanceString(r[e]),a=t.convertDistance(n);this.validator.isNumber(a),t.insertFootprintElement(r[e],t.footprintCore.createFootprintElement(a)),t.settingsProvider.showTravelCost()&&t.insertTravelCostElement(r[e],t.footprintCore.createTravelCostElement(a))}var i=t.getAllTransitRoutes();for(e=0;e<i.length;e++){var s=this.getTimeString(i[e]),o=this.convertTime(s);this.validator.isNumber(o),o=" "+o,t.insertFootprintElement(i[e],this.footprintCore.createPTFootprintElement(o))}}}]),e}(),WebsiteManager=HereMapsManager;