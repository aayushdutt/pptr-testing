function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var aaManager=function(){function e(t,i){_classCallCheck(this,e),this.core=t,this.settingsProvider=i,this.subtree=!0,this.list=[],this.childList=!1,this.validator=new FlightsValidator("americanAirlines")}return _createClass(e,[{key:"getList",value:function(){for(var e=document.getElementsByClassName("bound-table-flightline"),t=[],i=0,n=e.length;i<n;i++){var s=[];if(t.push({depart:this.validator.getByClass("citycode-from",e[i])[0].textContent.trim().substring(1,4),arrive:this.validator.getByClass("citycode-to",e[i])[0].textContent.trim().substring(1,4),stops:s,aircraft:"A380",updated:!1,aircraftStore:[]}),e[i].getElementsByClassName("segment timeline-segment").length){t[t.length-1].updated=!0;for(var a=0,r=this.validator.getByClass("timeline-airline",e[i]).length;a<r;a++)t[t.length-1].aircraftStore.push(this.validator.getByClass("equipment",r[a])[0].innerText.trim());for(a=1,r=this.validator.getByClass("timeline-locationcode",e[i]).length-1;a<r;a+=2)t[t.length-1].stops.push(this.validator.getByClass("timeline-locationcode",e[i])[a].innerText.trim())}}for(0===this.list.length&&(this.list=t),i=0,n=t.length;i<n;i++)t[i].updated&&(this.list[i]=t[i]);return this.validator.verifyList(t),this.list}},{key:"insertInDom",value:function(e){if(e.length>0){insertIn=this.validator.getByClass("bound-table-flightline-header");for(var t=0,i=insertIn.length;t<i;t++)0===insertIn[t].getElementsByClassName("carbon").length?insertIn[t].appendChild(this.core.createMark(e[t].co2Emission)):(insertIn[t].removeChild(insertIn[t].childNodes[insertIn[t].childNodes.length-1]),insertIn[t].appendChild(this.core.createMark(e[t].co2Emission)))}}}]),e}(),WebsiteManager=aaManager;