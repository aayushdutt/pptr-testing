function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var tripAdvisorManager=function(){function e(t,i){_classCallCheck(this,e),this.core=t,this.settingsProvider=i,this.subtree=!0,this.childList=!1,this.validator=new FlightsValidator("tripAdvisor")}return _createClass(e,[{key:"getList",value:function(){var e=document.getElementsByClassName("outerItineraryWrapper"),t=[];if(e.length){this.validator.getByClass("travelersAndCos")[0].innerHTML.indexOf("Economy")>=0?this.core.setSeatType("economy"):this.core.setSeatType("business")}for(var i=0,s=e.length;i<s;i++){flights=this.validator.getByClass("segmentDescriptionWithDiagram",e[i]),rawStops=e[i].getElementsByClassName("segmentDetail");for(var n=0,r=flights.length;n<r;n++)if(t.push({depart:this.validator.getByClass("departureDescription",flights[n])[0].innerText.split(" ")[0],arrive:this.validator.getByClass("arrivalDescription",flights[n])[0].innerText.split(" ")[0],stops:[],aircraft:"A380",updated:!1}),rawStops.length){var a=this.validator.getByClass("legDescription",rawStops[n]),o=[],l=[];for(z=0,k=a.length;z<k;z++){var h=this.validator.getChildNode([2,0],a[z]);o.push(h.innerText),l.push(this.validator.getByClass("endpointAirport",h)[0].innerText.split(" ")[0])}l.pop(),t[t.length-1].stops=l,t[t.length-1].aircrafts=o}}return t}},{key:"insertInDom",value:function(e){if(insertIn=[],e.length>0&&(insertIn=document.getElementsByClassName("mainFlightInfo")),e.length==insertIn.length)for(var t=0,i=insertIn.length;t<i;t++)0===insertIn[t].getElementsByClassName("carbon").length?insertIn[t].appendChild(this.core.createMark(e[t].co2Emission)):(insertIn[t].removeChild(insertIn[t].childNodes[insertIn[t].childNodes.length-1]),insertIn[t].appendChild(this.core.createMark(e[t].co2Emission)));else{var s=0;for(t=0,i=insertIn.length;t<i;t++)0===insertIn[t].getElementsByClassName("carbon").length?(insertIn[t].appendChild(this.core.createMark(e[s].co2Emission,e[s+1].co2Emission)),s+=2):(insertIn[t].removeChild(insertIn[t].childNodes[insertIn[t].childNodes.length-1]),insertIn[t].appendChild(this.core.createMark(e[s].co2Emission,e[s+1].co2Emission)),s+=2)}}}]),e}(),WebsiteManager=tripAdvisorManager;